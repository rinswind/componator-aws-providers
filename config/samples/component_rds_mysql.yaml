apiVersion: componator.io/v1alpha1
kind: Component
metadata:
  name: mysql-database
  namespace: default
  labels:
    app.kubernetes.io/name: mysql-database
    app.kubernetes.io/component: database
    app.kubernetes.io/managed-by: deployment-handlers
spec:
  name: mysql-db
  handler: rds
  config:
    instanceID: rds-handler-test
    # Core Database Configuration
    databaseEngine: mysql
    engineVersion: "8.0.42"
    instanceClass: db.t3.medium
    databaseName: webapp
    
    # AWS Configuration
    region: us-east-1
    
    # Storage Configuration (minimal example with defaults)
    allocatedStorage: 50
    # storageType: gp2 (default)
    storageEncrypted: false
    
    # Database Credentials
    masterUsername: admin
    masterPassword: "control-the-db456!"
    
    # Networking Configuration (minimal)
    vpcSecurityGroupIds:
      - sg-0218389200791d4a2
    subnetGroupName: rds-handler-test
    # publiclyAccessible: false (default)
    port: 3306
    
    skipFinalSnapshot:  true
    deletionProtection: false
    multiAZ:            false
